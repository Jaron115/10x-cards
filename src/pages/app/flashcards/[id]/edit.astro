---
import AppLayout from "@/layouts/AppLayout.astro";
import { FlashcardFormView } from "@/components/flashcards/FlashcardFormView";

export const prerender = false;
// Page is protected by AppLayout - user must be authenticated

const { id } = Astro.params;
const flashcardId = parseInt(id || "0");

// Validate that id is a valid number
if (!id || isNaN(flashcardId) || flashcardId <= 0) {
  return Astro.redirect("/app/flashcards");
}
---

<AppLayout title="Edytuj fiszkÄ™ - 10x Cards">
  <FlashcardFormView client:load mode="edit" flashcardId={flashcardId} />
</AppLayout>
